# 要件定義書

## 改訂履歴

| バージョン | 改訂日     | 担当者 | 概要                   |
| :--- | :--- | :--- | :--- |
| 1.0.0    | 2025-07-01 | 関     | 初版作成               |
| 1.0.1    | 2025-07-09 | Gemini | 修正なし（影響範囲外） |

## 1. 概要

本ドキュメントは、「究極のTODOアプリ」の要件を定義する。
このアプリケーションは、ユーザーが日々のタスクを効率的に管理し、生産性を向上させることを目的とする。

## 2. 機能要件

### 2.1. タスク管理

- **タスクの追加:** ユーザーは新しいタスクを入力し、リストに追加できる。
- **タスクの編集:** 既存のタスクの内容を編集できる。
- **タスクの削除:** タスクをリストから削除できる。
- **タスクの完了/未完了切り替え:** タスクの状態を「完了」または「未完了」に切り替えることができる。
- **完了済みタスクの一括削除:** 完了したタスクをすべて一度に削除できる。

### 2.2. タスクの可視化とフィルタリング

- **タスク一覧表示:** 未完了のタスクがデフォルトでリスト形式で表示される。
- **タスクのフィルタリング:** 「すべて」「未完了」「完了済み」の状態でタスクをフィルタリング表示できる。
- **タスクの検索:** キーワードでタスクを検索できる。
- **未完了タスク数の表示:** 未完了のタスク数が常に表示される。

### 2.3. 高度な機能

- **期日設定:** 各タスクに期日を設定できる。
- **期日の可視化:** 期日が表示され、期限切れのタスクは視覚的に強調される。
- **繰り返しタスクの設定:** 「毎日」「毎週」「毎月」といったルールでタスクが自動的に生成されるように設定できる。
- **タスクの並べ替え:** ドラッグ＆ドロップでタスクの順序を自由に変更できる。
- **データのエクスポート:** タスクリストをCSV形式でエクスポートできる。エクスポート対象は「すべて」「未完了」「完了済み」から選択できる。

### 2.4. ユーザーインターフェース

- **テーマ切り替え:** ライトモードとダークモードのテーマを切り替えることができる。

## 3. 非機能要件

### 3.1. データ永続化

- ユーザーが入力したタスク情報は、ブラウザを閉じても保持される。
- テーマの設定は、ブラウザを閉じても保持される。

### 3.2. パフォーマンス

- アプリケーションの読み込み、タスクの追加・更新・削除は、ユーザーがストレスを感じない速度で実行されること。

### 3.3. 互換性

- 主要なモダンブラウザ（Chrome, Firefox, Safari, Edge）で正常に動作すること。

### 3.4. ユーザビリティ

- 直感的で分かりやすいインターフェースを提供する。
- レスポンシブデザインに対応し、デスクトップとモバイルデバイスの両方で快適に利用できること。


## 4. 繰り返しタスクの仕様詳細

- **テンプレートタスク:** 繰り返し設定がされたタスクは「テンプレート」として扱われる。このテンプレートタスク自体は完了できず、リストに常に表示される。
- **タスクの自動生成:**
    - アプリケーション起動時に、繰り返しルールに基づいて新しいタスクが自動で生成される。
    - 例えば、「毎週月曜日」に設定されたタスクがある場合、月曜日を迎えるたびに新しいタスクがリストに追加される。
    - **生成されるタスクの期日:** 自動生成されるタスクの期日は、**生成されたその日**とする。
- **生成ロジック:**
    - 最後にタスクが生成された日付を記録しておく。
    - アプリケーション起動時に、その日付から今日までの間に、繰り返し条件に合致する日があれば、その日付でタスクを生成する。
    - 例えば、毎日繰り返すタスクの最終生成日が昨日だった場合、今日の日付で新しいタスクを1つ生成する。最終生成日が3日前だった場合は、一昨日、昨日、今日の3つのタスクを生成する。